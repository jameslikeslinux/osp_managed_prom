---
config:
  ssh:
    native-ssh: true
    ssh-command: ['ssh', '-F', 'vagrant-ssh.conf']
    copy-command: ['scp', '-r', '-F', 'vagrant-ssh.conf']
    interpreters:
      rb: ['/opt/puppetlabs/puppet/bin/ruby', '-r', 'puppet']

# Assume Puppet is installed to above `rb` path so Bolt
# won't install it during apply_prep
features:
  - puppet-agent

targets:
  - uri: osp
    config:
      transport: ssh
      ssh:
        user: vagrant
        run-as: root
  - uri: prometheus
    config:
      transport: ssh
      ssh:
        user: vagrant
        run-as: root
